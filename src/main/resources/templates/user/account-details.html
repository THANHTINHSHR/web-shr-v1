<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https//www.thymeleaf.org/thymeleaf-extras-springsecurity5"   >
<head>
    <meta charset="UTF-8">
    <title>ACCOUNT DETAILS</title>
    <!-- Favicon -->
    <link th:href="@{/img/favicon.ico}" rel="icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400|Source+Code+Pro:700,900&display=swap"
          rel="stylesheet">

    <!-- CSS Libraries -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link th:href="@{/lib/slick/slick.css}" rel="stylesheet">
    <link th:href="@{/lib/slick/slick-theme.css}" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link th:href="@{/css/root-style.css}" rel="stylesheet">
    <link th:href="@{/css/my-account.css}" rel="stylesheet">
    <!--    <link th:href="@{/css/table-scroll2.css}" rel="stylesheet">-->
    <!-- custom css -->

    <link th:href="@{/css/order-details.css}" rel="stylesheet">
    <link th:href="@{/css/table-scroll.css}" rel="stylesheet">

</head>
<body>
<header th:include="@{/normal/header.html}"></header>

<!-- Breadcrumb Start -->
<div class="breadcrumb-wrap">
    <div class="container-fluid">
        <ul class="breadcrumb">
            <li class="breadcrumb-item"><a href="/home">Home</a></li>
            <li class="breadcrumb-item active"> <a href="/my-account">My Account</a></li>
        </ul>
    </div>
</div>
<!-- Breadcrumb End -->

<!-- My Account Start -->
<div class="my-account">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-3">
                <div class="nav flex-column nav-pills" role="tablist" aria-orientation="vertical">
                    <a class="nav-link" id="notification-nav" href="/my-account/account-notification"
                       role="tab"><i class="fa fa-bell"></i>Notification</a>
                    <a class="nav-link" id="orders-nav" href="/my-account/account-orders" role="tab"><i
                            class="fa fa-shopping-bag"></i>Orders</a>
                    <a class="nav-link active" id="account-nav" data-toggle="pill" href="/my-account/account-details"
                       role="tab"><i
                            class="fa fa-user"></i>Account Details</a>
                    <a class="nav-link" href="/logout"><i class="fa fa-sign-out-alt"></i>Logout</a>
                </div>
            </div>
            <div class="col-md-9">
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="account-tab" role="tabpanel"
                         aria-labelledby="account-nav">
                        <h4>Account Details</h4>
                        <form th:action="${'/update-account-details'}" th:method="POST">
                            <div class="row">
                                <div class="col-md-6">
                                    <input class="form-control" type="text" placeholder="Name" th:name="new-name"
                                           th:value="${name}" th:required="true">
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control" type="number" placeholder="Phone" th:name="new-phone"
                                           th:value="${phone}" th:required="true">
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control" type="text" placeholder="Shipping Address"
                                           th:name="new-shipping-address" th:value="${shippingAddress}"
                                           th:required="true">
                                </div>

                                <div class="col-md-12">
                                    <div class="row">
                                        <button class="btn">Update Account</button>
                                        <p th:text="${dSuccess}" style="color: green; text-align: right"></p>
<!--                                        <p th:text="${pFail}" style="color: red; text-align: right"></p>-->
                                    </div>
                                    <br><br>

                                </div>
                            </div>
                        </form>
                        <h4>Password change</h4>
                        <form th:action="${'/update-account-password'}" method="post">
                            <div class="row">
                                <div class="col-md-12">
                                    <input class="form-control" type="password" th:name="old-pass"
                                           placeholder="Current Password"
                                           pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                           title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                                           required>
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control" type="password" th:name="new-pass"
                                           placeholder="New Password"
                                           pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                           title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                                           required>
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control" type="password" th:name="re-new-pass"
                                           placeholder="Retype New Password"
                                           pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                           title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                                           required>
                                </div>
                                <div class="col-md-12">
                                    <div class="row">
                                        <button class="btn">Save Changes</button>
                                        <p th:text="${pSuccess}" style="color: green; text-align: right"></p>
                                        <p th:text="${pFail}" style="color: red; text-align: right"></p>
                                        <p id="updatePassMess"></p>
                                    </div>
                                </div>

                            </div>
                        </form>
<!--                        <span sec:authentication="getUsername()">USER NAME</span>-->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- My Account End -->

<footer th:include="@{/normal/footer.html}"></footer>
<!-- Back to Top -->
<a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>

<!-- JavaScript Libraries -->
<script th:src="@{/js/main.js}"></script>
<script th:src="@{/js/my_account.js}"></script>
<!--<script th:src="@{/js/ajax_cart.js}"></script>-->
</body>
</html>